undo and redo could be saved by saving undo array and its 3 parameters